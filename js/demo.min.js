/*! Clean re-minified demo.js (functional equivalence) */
!function(){const r=e=>e.sort(()=>Math.random()-.5),t=(e,t,r,s,i)=>{let n=(e-t)/(r-s);return n*i+t-n*s},s=(e,t,r)=>(1-r)*e+r*t,o=document.body,i=getComputedStyle(o).getPropertyValue("--main-home-color").trim()||"white",n=e=>{let t=0,r=0;return e||(e=window.event),e.pageX||e.pageY?(t=e.pageX,r=e.pageY):e.clientX||e.clientY&&(t=e.clientX+o.scrollLeft+document.documentElement.scrollLeft,r=e.clientY+o.scrollTop+document.documentElement.scrollTop),{x:t,y:r}};let l;const a=()=>l={width:window.innerWidth,height:window.innerHeight};a(),window.addEventListener("resize",a,{passive:!0});class d{constructor(e,t){this.DOM={el:e},this.options={valuesFromTo:[-50,50],lerpFactorOuter:.25,lerpFactor:e=>.05*Math.pow(2,e)},Object.assign(this.options,t),this.DOM.moving=[...this.DOM.el.children],this.movingTotal=this.DOM.moving.length,this.mousePos={x:l.width/2,y:l.height/2},this.translations=[...new Array(this.movingTotal)].map(()=>({x:0,y:0})),this.initEvents()}initEvents(){window.addEventListener("mousemove",e=>this.mousePos=n(e),{passive:!0})}render(){if(window.matchMedia&&window.matchMedia("(prefers-reduced-motion: reduce)").matches)return;for(let e=0;e<=this.movingTotal-1;++e){let o=e<this.movingTotal-1?this.options.lerpFactor(e):this.options.lerpFactorOuter;this.translations[e].x=s(this.translations[e].x,t(this.options.valuesFromTo[1],this.options.valuesFromTo[0],l.width,0,this.mousePos.x),o),this.translations[e].y=s(this.translations[e].y,t(this.options.valuesFromTo[1],this.options.valuesFromTo[0],l.height,0,this.mousePos.y),o),this.DOM.moving[e].style.transform=`translateX(${this.translations[e].x}px) translateY(${this.translations[e].y}px)`}this.requestId=requestAnimationFrame(()=>this.render())}start(){this.requestId||(this.requestId=window.requestAnimationFrame(()=>this.render()))}stop(){if(this.requestId){window.cancelAnimationFrame(this.requestId),this.requestId=void 0;for(let e=0;e<=this.movingTotal-1;++e)this.translations[e].x=0,this.translations[e].y=0,this.DOM.moving[e].style.transform="translateX(0px) translateY(0px)"}}}class c{constructor(e){this.DOM={el:e},this.DOM.img=this.DOM.el.querySelector(".slide__figure-img"),this.DOM.slideEl=this.DOM.img,this.DOM.el.classList.contains("slide__figure--main")&&(this.isMain=!0,this.totalTiltImgs=2,this.DOM.inner=document.createElement("div"),this.DOM.slideEl=this.DOM.inner,this.DOM.inner.className="slide__figure-inner",this.DOM.el.appendChild(this.DOM.inner),this.DOM.inner.appendChild(this.DOM.img);for(let e=0;e<=this.totalTiltImgs;++e)this.DOM.inner.appendChild(this.DOM.img.cloneNode(!0));this.tilt=new d(this.DOM.inner,{valuesFromTo:[20,-20],lerpFactorOuter:.1,lerpFactor:e=>.02*e+.02})}}class h{constructor(e){this.DOM={el:e},this.figures=[],[...this.DOM.el.querySelectorAll(".slide__figure")].forEach(e=>this.figures.push(new c(e))),this.figuresTotal=this.figures.length,this.DOM.title=this.DOM.el.querySelector(".slide__title"),this.DOM.content=this.DOM.el.querySelector(".slide__content"),this.contentcolor=this.DOM.el.dataset.contentcolor,this.onClickBackFromContentFn=()=>{f.hideContent()},this.DOM.backFromContentCtrl=this.DOM.el.querySelector(".slide__back"),this.DOM.backFromContentCtrl.addEventListener("click",this.onClickBackFromContentFn);const e=document.querySelector(".logo");e&&e.addEventListener("click",function(e){e.preventDefault();const t=f.slides[f.current];t&&"function"==typeof t.onClickBackFromContentFn&&t.onClickBackFromContentFn()}),this.totalTiltText=3,this.DOM.innerTitleTmp=document.createElement("span"),this.DOM.innerTitleTmp.className="slide__title-inner",this.DOM.innerTitleTmp.innerHTML=this.DOM.title.innerHTML,this.DOM.title.innerHTML="";for(let e=0;e<=this.totalTiltText-1;++e)this.DOM.title.appendChild(this.DOM.innerTitleTmp.cloneNode(!0));this.DOM.innerTitle=[...this.DOM.title.querySelectorAll(".slide__title-inner")],this.DOM.innerTitle.forEach(e=>charming(e)),this.innerTitleTotal=this.DOM.innerTitle.length,this.innerTitleMainLetters=[...this.DOM.innerTitle[this.innerTitleTotal-1].querySelectorAll("span")],this.titleLettersTotal=this.innerTitleMainLetters.length,this.textTilt=null,this.DOM.text=this.DOM.el.querySelector(".slide__text"),this.DOM.showContentCtrl=this.DOM.text.querySelector(".slide__text-link"),this.onClickShowContentFn=e=>{e.preventDefault(),f.showContent()},this.DOM.showContentCtrl.addEventListener("click",this.onClickShowContentFn)}setCurrent(){this.toggleCurrent(!0)}unsetCurrent(){this.toggleCurrent(!1)}toggleCurrent(e){this.DOM.el.classList[e?"add":"remove"]("slide--current"),this.figures.find(e=>e.isMain).tilt[e?"start":"stop"]()}}class u{constructor(e){this.DOM={el:e},this.slides=[],[...this.DOM.el.querySelectorAll(".slide")].forEach(e=>this.slides.push(new h(e))),this.slidesTotal=this.slides.length,this.current=0,this.slides[this.current].setCurrent(),this.animationSettings={duration:.8,ease:Quint.easeOut,staggerFactor:.13}}navigate(e){if(this.isAnimating||this.isContentOpen)return;this.isAnimating=!0,this.dir=e;const t=this.current;this.current="right"===this.dir?this.current<this.slidesTotal-1?this.current+1:0:this.current>0?this.current-1:this.slidesTotal-1;const r=this.slides[t],s=this.slides[this.current];this.toggleSlides(r,s)}showContent(){this.DOM.el.classList.add("slideshow-content"),this.toggleContent("show")}hideContent(){this.DOM.el.classList.remove("slideshow-content"),this.toggleContent("hide")}toggleContent(e){if(this.isAnimating)return!1;this.isAnimating=!0;const t=this.slides[this.current];let r=t.contentcolor;if(r&&r.startsWith("var(")){const e=r.match(/var\((--[^)]+)\)/);e&&e[1]&&(r=getComputedStyle(document.body).getPropertyValue(e[1]).trim())}"show"===e&&(this.isContentOpen=!0,this.nav.hideNavigationCtrls(),this.dir="up"),"hide"===e&&(o.style.backgroundColor="var(--main-home-color)");this.tl=new TimelineMax({onComplete:()=>{"hide"===e&&(this.isContentOpen=!1,this.nav.showNavigationCtrls()),this.isAnimating=!1}}).add("begin");const s={};s.switchtime="show"===e?Number(this.animationSettings.staggerFactor*(t.figuresTotal-1)+this.animationSettings.duration):Number(Math.max(.05+.04*(t.titleLettersTotal-1),this.animationSettings.duration));const n=()=>{t.DOM.el.classList["show"===e?"add":"remove"]("slide--open"),"hide"===e&&(this.dir="down")};this.tl.addCallback(n,s.switchtime),this.tl.to(o,this.animationSettings.duration,{ease:this.animationSettings.ease,backgroundColor:"show"===e?r:i},"begin+="+s.switchtime);const l="down"===this.dir?t.figures.sort((e,t)=>e.DOM.el.dataset.sort-t.DOM.el.dataset.sort):t.figures.slice().sort((e,t)=>e.DOM.el.dataset.sort-t.DOM.el.dataset.sort).reverse(),a=l.find(e=>e.isMain),d=t.DOM.innerTitle.filter((e,r)=>r<t.innerTitleTotal-1);s.slideFigures="show"===e?r=>r*this.animationSettings.staggerFactor:r=>Number(s.switchtime+r*this.animationSettings.staggerFactor),l.forEach((r,s)=>{this.tl.to(r.DOM.el,this.animationSettings.duration,{ease:this.animationSettings.ease,y:"show"===e?"up"===this.dir?"-101%":"101%":"0%"},"begin+="+s.slideFigures(s)).to(r.DOM.slideEl,this.animationSettings.duration,{ease:this.animationSettings.ease,startAt:"show"===e?{transformOrigin:"50% 0%"}:{},y:"show"===e?"up"===this.dir?"101%":"-101%":"0%"},"begin+="+s.slideFigures(s))}),s.texts="show"===e?this.animationSettings.duration*this.animationSettings.staggerFactor:Number(s.switchtime+this.animationSettings.staggerFactor*(t.figuresTotal-1)),s.textsExtraTitles="show"===e?s.texts:Number(.05+.04*(t.titleLettersTotal-1)+s.texts),this.tl.to(t.DOM.text,this.animationSettings.duration,{ease:this.animationSettings.ease,opacity:"show"===e?0:1},"begin+="+s.texts),this.tl.staggerTo(r(t.innerTitleMainLetters),.05,{ease:this.animationSettings.ease,opacity:"show"===e?0:1},.04,"begin+="+s.texts),d.forEach(r=>{this.tl.to(r,.1,{ease:this.animationSettings.ease,opacity:"show"===e?0:1},"begin+="+s.textsExtraTitles)}),s.content="show"===e?Number(this.animationSettings.staggerFactor*(t.figuresTotal-1)+this.animationSettings.duration):0,s.contentExtraTitles="show"===e?Number(.05+.04*(t.titleLettersTotal-1)+s.content):s.content,this.tl.to(a.DOM.el,this.animationSettings.duration,{ease:this.animationSettings.ease,y:"show"===e?"0%":"up"===this.dir?"-101%":"101%"},"begin+="+s.content).to(a.DOM.slideEl,this.animationSettings.duration,{ease:this.animationSettings.ease,y:"show"===e?"0%":"up"===this.dir?"101%":"-101%"},"begin+="+s.content).to(t.DOM.content,this.animationSettings.duration,{ease:this.animationSettings.ease,opacity:"show"===e?1:0,startAt:"show"===e?{y:"5%"}:{},y:"show"===e?"0%":"5%"},"begin+="+s.content).to(t.DOM.backFromContentCtrl,this.animationSettings.duration,{ease:this.animationSettings.ease,opacity:"show"===e?1:0},"begin+="+s.content).staggerTo(r(t.innerTitleMainLetters),.05,{ease:this.animationSettings.ease,opacity:"show"===e?1:0},.04,"begin+="+s.content),d.forEach(r=>{this.tl.to(r,.1,{ease:this.animationSettings.ease,opacity:"show"===e?1:0},"begin+="+s.contentExtraTitles)})}toggleSlides(e,t){this.tl=new TimelineMax({onStart:()=>{e.DOM.el.style.zIndex=100,t.DOM.el.style.zIndex=101},onComplete:()=>this.isAnimating=!1}).add("begin");const r=()=>e.unsetCurrent();this.tl.addCallback(r,this.animationSettings.duration+this.animationSettings.staggerFactor*(this.slidesTotal-1));const s=()=>{t.figures.forEach(e=>{TweenMax.set(e.DOM.slideEl,{x:"right"===this.dir?"-101%":"101%"})}),TweenMax.set(t.DOM.text,{opacity:0}),t.DOM.innerTitle.forEach((e,r)=>{r===t.innerTitleTotal-1?TweenMax.set([...e.querySelectorAll("span")],{opacity:0}):TweenMax.set(e,{opacity:0})}),t.setCurrent()};this.tl.addCallback(s,this.animationSettings.staggerFactor*(e.figuresTotal-1));const i="right"===this.dir?e.figures.sort((e,t)=>e.DOM.el.dataset.sort-t.DOM.el.dataset.sort):e.figures.slice().sort((e,t)=>e.DOM.el.dataset.sort-t.DOM.el.dataset.sort).reverse();i.forEach((e,t)=>{this.tl.to(e.DOM.el,this.animationSettings.duration,{ease:this.animationSettings.ease,x:"right"===this.dir?"-101%":"101%"},"begin+="+t*this.animationSettings.staggerFactor).to(e.DOM.slideEl,this.animationSettings.duration,{ease:this.animationSettings.ease,startAt:{transformOrigin:"0% 50%"},x:"right"===this.dir?"101%":"-101%"},"begin+="+t*this.animationSettings.staggerFactor)}),this.tl.to(e.DOM.text,this.animationSettings.duration,{ease:this.animationSettings.ease,opacity:0},"begin+="+this.animationSettings.duration*this.animationSettings.staggerFactor),this.tl.staggerTo(r(e.innerTitleMainLetters),.05,{ease:this.animationSettings.ease,opacity:0},.04,"begin+="+this.animationSettings.duration*this.animationSettings.staggerFactor),e.DOM.innerTitle.filter((e,t)=>t<e.innerTitleTotal-1).forEach(t=>{this.tl.to(t,.1,{ease:this.animationSettings.ease,opacity:0},"begin+="+this.animationSettings.duration*this.animationSettings.staggerFactor)});const l="right"===this.dir?t.figures.sort((e,t)=>e.DOM.el.dataset.sort-t.DOM.el.dataset.sort):t.figures.slice().sort((e,t)=>e.DOM.el.dataset.sort-t.DOM.el.dataset.sort).reverse();l.forEach((t,r)=>{this.tl.to(t.DOM.el,this.animationSettings.duration,{ease:this.animationSettings.ease,startAt:{x:"right"===this.dir?"101%":"-101%"},x:"0%"},"begin+="+Number(this.animationSettings.staggerFactor*(e.figuresTotal-1)+r*this.animationSettings.staggerFactor)).to(t.DOM.slideEl,this.animationSettings.duration,{ease:this.animationSettings.ease,x:"0%"},"begin+="+Number(this.animationSettings.staggerFactor*(e.figuresTotal-1)+r*this.animationSettings.staggerFactor))}),this.tl.to(t.DOM.text,this.animationSettings.duration,{ease:this.animationSettings.ease,opacity:1},"begin+="+this.animationSettings.staggerFactor*(e.figuresTotal-1)),this.tl.staggerTo(r(t.innerTitleMainLetters),.05,{ease:this.animationSettings.ease,opacity:1},.04,"begin+="+this.animationSettings.staggerFactor*(e.figuresTotal-1)),t.DOM.innerTitle.filter((e,r)=>r<t.innerTitleTotal-1).forEach(r=>{this.tl.to(r,.5,{ease:this.animationSettings.ease,opacity:1},"begin+="+Number(.05+.04*(t.titleLettersTotal-1)+this.animationSettings.staggerFactor*(e.figuresTotal-1)))})}}class m{constructor(e){this.DOM={el:e},this.DOM.counter=this.DOM.el.querySelector(".nav__counter"),this.DOM.counterCurrent=this.DOM.counter.firstElementChild,this.DOM.counterTotal=this.DOM.counter.lastElementChild,this.DOM.navPrevCtrl=this.DOM.el.querySelector(".nav__arrow--prev"),this.DOM.navNextCtrl=this.DOM.el.querySelector(".nav__arrow--next"),this.DOM.counterTotal.innerHTML=f.slidesTotal,this.updateCounter(),this.initEvents()}initEvents(){this.navigate=e=>{f.navigate(e),this.updateCounter()},this.onNavPrevClickHandler=()=>this.navigate("left"),this.onNavNextClickHandler=()=>this.navigate("right"),this.DOM.navPrevCtrl.addEventListener("click",this.onNavPrevClickHandler),this.DOM.navNextCtrl.addEventListener("click",this.onNavNextClickHandler)}updateCounter(){this.DOM.counterCurrent.innerHTML=f.current+1}hideNavigationCtrls(){this.toggleNavigationCtrls("hide")}showNavigationCtrls(){this.toggleNavigationCtrls("show")}toggleNavigationCtrls(e){this.DOM.navPrevCtrl.style.opacity="show"===e?1:0,this.DOM.navPrevCtrl.style.visibility="show"===e?"visible":"hidden",this.DOM.navNextCtrl.style.opacity="show"===e?1:0,this.DOM.counter.style.opacity="show"===e?1:0;const t=document.querySelector(".about");t&&(t.style.opacity="show"===e?1:0),"show"!==e&&(()=>{const e=document.getElementById("modal");e&&e.classList.contains("modal--open")&&e.classList.remove("modal--open")})()}}const p=document.querySelector(".about"),g=document.getElementById("modal"),v=document.getElementById("close-modal");document.addEventListener("DOMContentLoaded",function(){var e=document.querySelector(".open-more-info"),t=document.querySelector(".modal__content-info"),r=document.querySelector(".close-content-info");e&&t&&e.addEventListener("click",function(){t.classList.contains("open")?(t.classList.remove("open"),e.textContent="Show Experience ⇥"):(t.classList.add("open"),e.textContent="⇤ Hide Experience")}),r&&t&&e&&r.addEventListener("click",function(){t.classList.remove("open"),e.textContent="Show Experience ⇥"})}),p&&g&&v&&(p.addEventListener("click",function(e){e.preventDefault(),g.classList.add("modal--open")}),v.addEventListener("click",function(){g.classList.remove("modal--open")}));const y=document.querySelector(".back-to-top");y.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})});const f=new u(document.querySelector(".slideshow"));document.addEventListener("visibilitychange",()=>{const e=f.slides[f.current];if(!e)return;const t=e.figures.find(e=>e.isMain);t&&t.tilt&&(document.hidden?t.tilt.stop():window.matchMedia&&!window.matchMedia("(prefers-reduced-motion: reduce)").matches&&t.tilt.start())},{passive:!0});const b=new m(document.querySelector(".nav"));f.nav=b;const C=window._loadingCounter;let E=0,S=null;function T(){E=0,C.textContent="0%",C.style.opacity="1",S=setInterval(()=>{E<99&&(E+=1,C.textContent=E+"%")},20)}T(),imagesLoaded(document.querySelectorAll(".slide__figure-img"),{background:!0},()=>{o.classList.remove("loading"),clearInterval(S),E=100,C.textContent="100%",setTimeout(()=>{C.style.opacity="0",setTimeout(()=>{C.parentNode&&C.parentNode.removeChild(C)},500)},300)})}();
